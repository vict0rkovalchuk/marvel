{"version":3,"sources":["components/errorMessage/error.gif","components/errorMessage/ErrorMessage.js","services/MarvelService.js","hooks/http.hook.js","components/errorBoundary/ErrorBoundary.js","resources/img/mjolnir.png","components/randomChar/RandomChar.js","components/charList/CharList.js","components/skeleton/Skeleton.js","components/charInfo/CharInfo.js","resources/img/vision.png","components/pages/MainPage.js"],"names":["ErrorMessage","children","style","display","width","height","objectFit","margin","alt","src","img","useMarvelService","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","fetch","response","ok","Error","status","json","data","message","clearError","useHttp","_apiBase","_apiKey","_baseOffset","getAllCharacters","offset","res","results","map","_transformCharacter","getAllComics","_transformComics","getTotalCharacters","total","getTotalComics","getCharacter","id","getComics","char","name","description","thumbnail","path","extension","homepage","urls","wiki","comics","items","slice","title","pageCount","language","textObjects","price","prices","ErrorBoundary","state","errorInfo","console","log","this","setState","props","Component","View","thumbnailStyle","className","length","href","RandomChar","setChar","useEffect","updateChar","onCharLoaded","Math","floor","random","then","errorMessage","spinner","Spinner","content","onClick","mjolnir","characters","onCharSelected","onFocusItem","itemRefs","charactersList","i","CSSTransition","timeout","classNames","ref","el","current","tabIndex","onKeyDown","e","key","TransitionGroup","component","CharList","setCharacters","newItemLoading","setNewItemLoading","setOffset","charEnded","setCharEnded","updateCharacters","onCharactersLoaded","newCharacters","totalCharacters","ended","useRef","catch","itemId","forEach","item","classList","remove","add","focus","disabled","onRequest","Skeleton","comicsList","resourceURI","split","pop","to","CharInfo","charId","skeleton","MainPage","selectedChar","setSelectedChar","decoration"],"mappings":"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","file":"static/js/5.a57f8354.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/error.42292aa1.gif\";","import img from './error.gif';\r\n\r\nconst ErrorMessage = ({ children }) => {\r\n  return (\r\n    <>\r\n      <img\r\n        style={{\r\n          display: 'block',\r\n          width: '250px',\r\n          height: '250px',\r\n          objectFit: 'contain',\r\n          margin: '0 auto'\r\n        }}\r\n        alt=\"error\"\r\n        src={img}\r\n      />\r\n      {children}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import { useHttp } from '../hooks/http.hook';\r\n\r\nconst useMarvelService = () => {\r\n  const { loading, request, error, clearError } = useHttp();\r\n\r\n  const _apiBase = 'https://gateway.marvel.com:443/v1/public/';\r\n  const _apiKey = '5fb08fddb575a55d82219f9e2320f5e7';\r\n  const _baseOffset = 210;\r\n  const _baseComicsOffset = 0;\r\n\r\n  const getAllCharacters = async (offset = _baseOffset) => {\r\n    const res = await request(\r\n      `${_apiBase}characters?limit=9&offset=${offset}&apikey=${_apiKey}`\r\n    );\r\n\r\n    return res.data.results.map(_transformCharacter);\r\n  };\r\n\r\n  const getAllComics = async (offset = _baseComicsOffset) => {\r\n    const res = await request(\r\n      `${_apiBase}comics?limit=8&offset=${offset}&apikey=${_apiKey}`\r\n    );\r\n\r\n    return res.data.results.map(_transformComics);\r\n  };\r\n\r\n  const getTotalCharacters = async (offset = _baseOffset) => {\r\n    const res = await request(\r\n      `${_apiBase}characters?limit=9&offset=${offset}&apikey=${_apiKey}`\r\n    );\r\n\r\n    return res.data.total;\r\n  };\r\n\r\n  const getTotalComics = async (offset = _baseOffset) => {\r\n    const res = await request(\r\n      `${_apiBase}comics?limit=8&offset=${offset}&apikey=${_apiKey}`\r\n    );\r\n\r\n    return res.data.total;\r\n  };\r\n\r\n  const getCharacter = async id => {\r\n    const res = await request(`${_apiBase}characters/${id}?apikey=${_apiKey}`);\r\n    return _transformCharacter(res.data.results[0]);\r\n  };\r\n\r\n  const getComics = async id => {\r\n    const res = await request(`${_apiBase}comics/${id}?apikey=${_apiKey}`);\r\n    return _transformComics(res.data.results[0]);\r\n  };\r\n\r\n  const _transformCharacter = char => {\r\n    return {\r\n      name: char.name,\r\n      description: char.description,\r\n      thumbnail: char.thumbnail.path + '.' + char.thumbnail.extension,\r\n      homepage: char.urls[0].url,\r\n      wiki: char.urls[1].url,\r\n      id: char.id,\r\n      comics: char.comics.items.slice(0, 10)\r\n    };\r\n  };\r\n\r\n  const _transformComics = comics => {\r\n    return {\r\n      name: comics.title,\r\n      description: comics.description || 'No description',\r\n      pageCount: comics.pageCount\r\n        ? comics.pageCount + ' pages'\r\n        : 'No Information',\r\n      language: comics.textObjects[0]?.language || 'en-us',\r\n      price: comics.prices[0].price\r\n        ? comics.prices[0].price + '$'\r\n        : 'NOT AVAILABLE',\r\n      thumbnail: comics.thumbnail.path + '.' + comics.thumbnail.extension,\r\n      id: comics.id\r\n    };\r\n  };\r\n\r\n  return {\r\n    loading,\r\n    error,\r\n    getTotalCharacters,\r\n    getAllCharacters,\r\n    getTotalComics,\r\n    getCharacter,\r\n    getComics,\r\n    getAllComics,\r\n    clearError\r\n  };\r\n};\r\n\r\nexport default useMarvelService;\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const request = useCallback(\r\n    async (\r\n      url,\r\n      method = 'GET',\r\n      body = null,\r\n      headers = {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    ) => {\r\n      setLoading(true);\r\n\r\n      try {\r\n        const response = await fetch(url, { method, body, headers });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Could not fetch ${url}, status: ${response.status}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        setLoading(false);\r\n        return data;\r\n      } catch (error) {\r\n        setLoading(false);\r\n        setError(error.message);\r\n        throw error;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const clearError = useCallback(() => setError(null), []);\r\n\r\n  return { loading, request, error, clearError };\r\n};\r\n","import { Component } from 'react';\r\nimport ErrorMessage from '../errorMessage/ErrorMessage';\r\n\r\nclass ErrorBoundary extends Component {\r\n  state = {\r\n    error: false\r\n  };\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    console.log(error, errorInfo);\r\n    this.setState({\r\n      error: true\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return <ErrorMessage />;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","export default __webpack_public_path__ + \"static/media/mjolnir.61f31e18.png\";","import { useState, useEffect } from 'react';\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\n\nimport useMarvelService from '../../services/MarvelService';\n\nimport './randomChar.scss';\nimport mjolnir from '../../resources/img/mjolnir.png';\n\nconst RandomChar = () => {\n  const [char, setChar] = useState({});\n\n  const { loading, error, getCharacter, clearError } = useMarvelService();\n\n  useEffect(() => {\n    updateChar();\n  }, []);\n\n  const onCharLoaded = char => setChar(char);\n\n  const updateChar = () => {\n    clearError();\n    const id = Math.floor(Math.random() * (1011400 - 1011000) + 1011000);\n    getCharacter(id).then(onCharLoaded);\n  };\n\n  const errorMessage = error ? <ErrorMessage /> : null;\n  const spinner = loading ? <Spinner /> : null;\n  const content = !(loading || error) ? <View char={char} /> : null;\n\n  return (\n    <div className=\"randomchar\">\n      {errorMessage}\n      {spinner}\n      {content}\n      <div className=\"randomchar__static\">\n        <p className=\"randomchar__title\">\n          Random character for today!\n          <br />\n          Do you want to get to know him better?\n        </p>\n        <p className=\"randomchar__title\">Or choose another one</p>\n        <button onClick={updateChar} className=\"button button__main\">\n          <div className=\"inner\">try it</div>\n        </button>\n        <img src={mjolnir} alt=\"mjolnir\" className=\"randomchar__decoration\" />\n      </div>\n    </div>\n  );\n};\n\nconst View = ({ char }) => {\n  const { name, description, thumbnail, homepage, wiki } = char;\n\n  const thumbnailStyle =\n    thumbnail ===\n    'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg'\n      ? {\n          objectFit: 'contain'\n        }\n      : null;\n\n  return (\n    <div className=\"randomchar__block\">\n      <img\n        style={thumbnailStyle}\n        src={thumbnail}\n        alt=\"Random character\"\n        className=\"randomchar__img\"\n      />\n      <div className=\"randomchar__info\">\n        <p className=\"randomchar__name\">{name}</p>\n        <p className=\"randomchar__descr\">\n          {!description\n            ? 'No Description'\n            : description.length >= 10\n            ? description.slice(0, 100) + '...'\n            : description}\n        </p>\n        <div className=\"randomchar__btns\">\n          <a href={homepage} className=\"button button__main\">\n            <div className=\"inner\">homepage</div>\n          </a>\n          <a href={wiki} className=\"button button__secondary\">\n            <div className=\"inner\">Wiki</div>\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RandomChar;\n","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\n\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\n\nimport useMarvelService from '../../services/MarvelService';\n\nimport './charList.scss';\n\nconst CharList = ({ onCharSelected }) => {\n  const [characters, setCharacters] = useState([]);\n  const [newItemLoading, setNewItemLoading] = useState(false);\n  const [offset, setOffset] = useState(210);\n  const [charEnded, setCharEnded] = useState(false);\n\n  const { loading, error, getTotalCharacters, getAllCharacters } =\n    useMarvelService();\n\n  useEffect(() => {\n    updateCharacters();\n  }, []);\n\n  const onRequest = offset => {\n    setNewItemLoading(true);\n    getAllCharacters(offset).then(onCharactersLoaded);\n  };\n\n  const onCharactersLoaded = async newCharacters => {\n    let totalCharacters = await getTotalCharacters();\n    let ended = false;\n    if (totalCharacters - 9 <= offset) {\n      ended = true;\n    }\n\n    setCharacters(characters => [...characters, ...newCharacters]);\n    setNewItemLoading(false);\n    setOffset(offset => offset + 9);\n    setCharEnded(ended);\n  };\n\n  const itemRefs = useRef([]);\n\n  const onFocusItem = itemId => {\n    itemRefs.current.forEach(item =>\n      item.classList.remove('char__item_selected')\n    );\n    itemRefs.current[itemId].classList.add('char__item_selected');\n    itemRefs.current[itemId].focus();\n  };\n\n  const updateCharacters = () => {\n    getAllCharacters()\n      .then(onCharactersLoaded)\n      .catch(() => setCharEnded(true));\n  };\n\n  const errorMessage = error ? <ErrorMessage /> : null;\n  const spinner = loading && !newItemLoading ? <Spinner /> : null;\n\n  return (\n    <div className=\"char__list\">\n      {errorMessage}\n      {spinner}\n      <View\n        onFocusItem={onFocusItem}\n        onCharSelected={onCharSelected}\n        characters={characters}\n        itemRefs={itemRefs}\n      />\n      <button\n        style={{ display: charEnded ? 'none' : 'block' }}\n        disabled={newItemLoading}\n        onClick={() => {\n          onRequest(offset);\n        }}\n        className=\"button button__main button__long\"\n      >\n        <div className=\"inner\">load more</div>\n      </button>\n    </div>\n  );\n};\n\nCharList.propTypes = {\n  onCharSelected: PropTypes.func\n};\n\nconst View = ({ characters, onCharSelected, onFocusItem, itemRefs }) => {\n  const charactersList = characters.map(({ name, thumbnail, id }, i) => {\n    const thumbnailStyle =\n      thumbnail ===\n        'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ||\n      thumbnail ===\n        'http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif'\n        ? {\n            objectFit: 'fill'\n          }\n        : null;\n\n    const duration = 500;\n\n    return (\n      <CSSTransition key={id} timeout={duration} classNames=\"csstransition\">\n        <li\n          ref={el => (itemRefs.current[i] = el)}\n          tabIndex={0}\n          onClick={() => {\n            onCharSelected(id);\n            onFocusItem(i);\n          }}\n          onKeyDown={e => {\n            if (e.key === ' ' || e.key === 'Enter') {\n              onCharSelected(id);\n              onFocusItem(i);\n            }\n          }}\n          key={id}\n          className=\"char__item\"\n        >\n          <img style={thumbnailStyle} src={thumbnail} alt={name} />\n          <div className=\"char__name\">{name}</div>\n        </li>\n      </CSSTransition>\n    );\n  });\n\n  return (\n    <ul className=\"char__grid\">\n      <TransitionGroup component={null}>{charactersList}</TransitionGroup>\n    </ul>\n  );\n};\n\nexport default CharList;\n","import './skeleton.scss';\n\nconst Skeleton = () => {\n    return (\n        <>\n            <p className=\"char__select\">Please select a character to see information</p>\n            <div className=\"skeleton\">\n                <div className=\"pulse skeleton__header\">\n                    <div className=\"pulse skeleton__circle\"></div>\n                    <div className=\"pulse skeleton__mini\"></div>\n                </div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n                <div className=\"pulse skeleton__block\"></div>\n            </div>\n        </>\n    )\n}\n\nexport default Skeleton;","import { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport Spinner from '../spinner/Spinner';\nimport ErrorMessage from '../errorMessage/ErrorMessage';\nimport Skeleton from '../skeleton/Skeleton';\n\nimport useMarvelService from '../../services/MarvelService';\n\nimport './charInfo.scss';\n\nconst CharInfo = ({ charId }) => {\n  const [char, setChar] = useState(null);\n\n  const { loading, error, getCharacter, clearError } = useMarvelService();\n\n  useEffect(() => {\n    updateChar();\n  }, [charId]);\n\n  const onCharLoaded = char => {\n    setChar(char);\n  };\n\n  const updateChar = () => {\n    if (!charId) {\n      return;\n    }\n\n    clearError();\n    getCharacter(charId).then(onCharLoaded);\n  };\n\n  const skeleton = char || loading || error ? null : <Skeleton />;\n  const errorMessage = error ? <ErrorMessage /> : null;\n  const spinner = loading ? <Spinner /> : null;\n  const content = !(loading || error || !char) ? <View char={char} /> : null;\n\n  return (\n    <div className=\"char__info\">\n      {skeleton}\n      {errorMessage}\n      {spinner}\n      {content}\n    </div>\n  );\n};\n\nCharInfo.propTypes = {\n  charId: PropTypes.number\n};\n\nconst View = ({ char }) => {\n  const { comics, description, homepage, name, thumbnail, wiki } = char;\n\n  const comicsList = comics.map(({ name, resourceURI }, i) => {\n    const id = resourceURI.split('/').pop();\n    return (\n      <li key={i} className=\"char__comics-item\">\n        <Link className=\"char__comics-link\" to={`/comics/${id}`}>\n          {name}\n        </Link>\n      </li>\n    );\n  });\n\n  const thumbnailStyle =\n    thumbnail ===\n      'http://i.annihil.us/u/prod/marvel/i/mg/b/40/image_not_available.jpg' ||\n    thumbnail ===\n      'http://i.annihil.us/u/prod/marvel/i/mg/f/60/4c002e0305708.gif'\n      ? {\n          objectFit: 'contain'\n        }\n      : null;\n\n  return (\n    <>\n      <div className=\"char__basics\">\n        <img style={thumbnailStyle} src={thumbnail} alt={name} />\n        <div>\n          <div className=\"char__info-name\">{name}</div>\n          <div className=\"char__btns\">\n            <a href={homepage} className=\"button button__main\">\n              <div className=\"inner\">homepage</div>\n            </a>\n            <a href={wiki} className=\"button button__secondary\">\n              <div className=\"inner\">Wiki</div>\n            </a>\n          </div>\n        </div>\n      </div>\n      <div className=\"char__descr\">\n        {!description ? 'No Description' : description}\n      </div>\n      {comicsList.length === 0 ? (\n        <div className=\"char__comics\">Comics not found</div>\n      ) : (\n        <>\n          <div className=\"char__comics\">Comics:</div>\n          <ul className=\"char__comics-list\">{comicsList}</ul>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default CharInfo;\n","export default __webpack_public_path__ + \"static/media/vision.067d4ae1.png\";","import { useState } from 'react';\r\n\r\nimport RandomChar from '../randomChar/RandomChar';\r\nimport CharList from '../charList/CharList';\r\nimport CharInfo from '../charInfo/CharInfo';\r\nimport ErrorBoundary from '../errorBoundary/ErrorBoundary';\r\n\r\nimport decoration from '../../resources/img/vision.png';\r\n\r\nconst MainPage = () => {\r\n  const [selectedChar, setSelectedChar] = useState(null);\r\n\r\n  const onCharSelected = id => {\r\n    setSelectedChar(id);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ErrorBoundary>\r\n        <RandomChar />\r\n      </ErrorBoundary>\r\n      <div className=\"char__content\">\r\n        <ErrorBoundary>\r\n          <CharList onCharSelected={onCharSelected} />\r\n        </ErrorBoundary>\r\n        <ErrorBoundary>\r\n          <CharInfo charId={selectedChar} />\r\n        </ErrorBoundary>\r\n      </div>\r\n      <img className=\"bg-decoration\" src={decoration} alt=\"vision\" />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n"],"sourceRoot":""}